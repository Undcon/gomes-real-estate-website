<div *ngIf="!isError">
    <div class="grid p-fluid" *ngIf="!loading">
        <div class="col-12">
            <p-galleria [value]="fileImages" [responsiveOptions]="responsiveOptions" [containerStyle]="{'max-width': '100%', 'min-width': '100%'}" [numVisible]="isMobile ? 2 : 6" [showItemNavigators]="true"> 
                <ng-template pTemplate="item" let-item>
                    <img [src]="item.url" [class]="isMobile ? 'img-sm' : 'img-lg'"/>
                </ng-template>
                <ng-template pTemplate="thumbnail" let-item>
                    <div class="grid grid-nogutter justify-content-center">
                        <img [src]="item.url" style="height: 60px; width: 80px;"/>
                    </div>
                </ng-template>
            </p-galleria>
        </div>
        
        <div class="col-12 grid p-fluid description-all">
            <h1 class="col-12 title"> {{ entity?.title }} </h1>

            <div class="col-12 content-description">
                <div class="description ql-editor">
                    <span [innerHTML]="entity && entity.description ? (entity.description | safeHtml) : ''"></span>
                </div>
            </div>

            <div class="col-12 price" [class]="entity?.availableForRent ? 'md:col-6' : ''" *ngIf="entity?.availableForSale">
                <span class="available-badge available-sale">Valor para compra {{ entity?.price | formatCurrency }}</span>
            </div>
            <div class="col-12 price" [class]="entity?.availableForSale ? 'md:col-6' : ''" *ngIf="entity?.availableForRent">
                <span class="available-badge available-rent">Valor para locação {{ entity?.priceForRent | formatCurrency }}</span>
            </div>
        </div>
    </div>
    
    <div class="bt-maps" title="Visualizar no Google Maps" (click)="openMaps()" *ngIf="!loading">
        <div class="icon-maps">
            <i class="pi pi-map-marker"></i>
        </div>
    </div>
    
    <div class="bt-whatsapp" title="Entrar em contato" (click)="sendMessage()" *ngIf="!loading">
        <div class="icon-whatsapp">
            <i class="pi pi-whatsapp"></i>
        </div>
    </div>
    
    <div class="grid" *ngIf="loading">
        <div class="col-12">
            <p-skeleton styleClass="mb-2" height="35rem"></p-skeleton>
        </div>
    
        <div class="col-12">
            <div class="flex justify-content-between mt-3">
                <p-skeleton width="20rem" height="3rem"></p-skeleton>
                <p-skeleton width="20rem" height="3rem"></p-skeleton>
            </div>
        </div>
    
        <div class="col-12" style="margin-top: 20px;">
            <p-skeleton width="15rem" height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton width="10rem" height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton width="13rem" height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton width="11rem" height="2rem" styleClass="mb-2"></p-skeleton>
            <p-skeleton width="18rem" height="2rem" styleClass="mb-2"></p-skeleton>
        </div>
    </div>
</div>

<div class="not-result-ad" *ngIf="isError">
    <div>
        <i class="pi pi-home"></i>
    </div>
    <div>
        <label>Anúncio não encontrado</label>
    </div>
    <div class="back-button">
        <p-button label="Voltar" icon="pi pi-arrow-left" styleClass="p-button-rounded btn-search" (onClick)="onBack()"></p-button>
    </div>
</div>
